<?php

namespace smCore\cache\psr;
use smCore\cache\psr\PsrCache;

/**
 * Test class for Cache.
 * Generated by PHPUnit on 2012-05-20 at 03:03:12.
 */
class CacheItemTest extends \PHPUnit_Framework_TestCase {

	/**
	 * @var Pool
	 */
	protected $object;

	/**
	 * Sets up the fixture.
	 * This method is called before a test is executed.
	 */
	protected function setUp() {
		$this->object = new MemoryCachePool();
	}

	/**
	 * Tears down the fixture.
	 * This method is called after a test is executed.
	 */
	protected function tearDown() {
		$this->object->flush();
	}

	/**
	 * testGet().
	 */
	public function testGet() {
		$key = 'test';
		$data = 'blah blah test';
		$item = $this->object->getCache($key);
		$this->assertTrue($item->isMiss());

		$this->object->flush();
	}

	/**
	 * testInvalidate().
	 */
	public function testInvalidate() {
		$key = 'test';
		$data = 'blah blah test';
		$item = $this->object->getCache($key);
		$item->set($data, 120);
		$this->assertEquals($item->get(), $data);

		$item->remove();
		$this->assertTrue($item->isMiss());

	}

	/**
	 * testInvalidateKey().
	 */
	public function testInvalidateKey() {
		$key = 'test';
		$data = 'blah blah test';

	}

	/**
	 * testSet().
	 */
	public function testSet() {
		$key = 'test';
		$data = 'blah blah test';
		$item = $this->object->getCache($key);
		$item->set($data, 5);

		$item2 = $this->object->getCache($key);
		$this->assertEquals($item2->get(), $data);

	}

}
